[{"kind":1,"language":"markdown","value":"## SQL Data Exploration","outputs":[]},{"kind":1,"language":"markdown","value":"Programming in SAS is largely procedural with a step-by-step data flow, PROC SQL offers a declarative, SQL-based approach for working with structured data, while Python is fully object-oriented, enabling greater flexibility, modularity, and integration with diverse libraries for data manipulation and analysis.","outputs":[]},{"kind":1,"language":"markdown","value":"Obtain metadata info by mimicking PROC CONTENTS using PROC SQL","outputs":[]},{"kind":2,"language":"sas","value":"proc sql;\n    describe table dictionary.columns;","outputs":[]},{"kind":2,"language":"sas","value":"proc sql;\n    select memname, name, type, length from dictionary.columns\n    where libname=\"WORK\" and upcase(memname)=\"DST2\"","outputs":[]},{"kind":1,"language":"markdown","value":"The powerful ability of SQL to explore Metadata is examined in the code below. Locate common columns in all tables by sweeping the WORK library ","outputs":[]},{"kind":2,"language":"sas","value":"proc sql;\n    select memname, name, type, length\n    from dictionary.columns\n    where libname=\"WORK\"\n    group by name\n    having count(name) > 1\n    order by 2;\nquit;","outputs":[]},{"kind":1,"language":"markdown","value":"PROC SQL to print, The OUTOBS= option restricts the number of rows that PROC SQL displays or writes to a table. For example, if you specify OUTOBS=10 and insert values into a table by using a query, then PROC SQL inserts a maximum of 10 rows into the resulting table. OUTOBS= is similar to the SAS data set option OBS=.","outputs":[]},{"kind":2,"language":"sas","value":"proc sql outobs=5;\n    select *\n    from dst2;\nquit;\n    ","outputs":[]},{"kind":1,"language":"markdown","value":"In PROC SQL, mean, min, max, std, and count replicate the default statistics from PROC MEANS.","outputs":[]},{"kind":2,"language":"sas","value":"title \"Analysis Variable : year\";\nproc sql;\n    select \n        count(year) as N,\n        mean(year) as Mean,\n         std(year) as StdDev,\n         min(year) as Minimum,\n        max(year) as Maximum        \n    from dst2;\nquit;","outputs":[]},{"kind":1,"language":"markdown","value":"PROC FREQ In SQL\nStep 1: Get frequency and percent using PROC SQL<br>\n\nThis PROC SQL code creates a summary table showing the frequency and percent of each stateProvince value in dst2, by grouping the data and dividing each count by the total number of rows to mimic PROC FREQ output.","outputs":[]},{"kind":2,"language":"sas","value":"proc sql;\n    create table freq_state as\n    select \n        stateProvince,\n        count(*) as Frequency,\n        calculated Frequency / total_count * 100 as Percent format=6.2\n    from \n        (select * from dst2),\n        (select count(*) as total_count from dst2)\n    group by stateProvince\n    order by Frequency desc;\nquit;","outputs":[]},{"kind":1,"language":"markdown","value":"Step 2: Add cumulative frequency and percent using a DATA step<br>\n\nThis DATA step adds cumulative frequency and cumulative percent to each row in freq_state by retaining running totals across observations.","outputs":[]},{"kind":2,"language":"sas","value":"data freq_state_final;\n    set freq_state;\n    retain CumFreq CumPercent 0;\n    CumFreq + Frequency;\n    CumPercent + Percent;\nrun;","outputs":[]},{"kind":1,"language":"markdown","value":"Print the resulting dataset","outputs":[]},{"kind":2,"language":"sas","value":"proc sql;\n    select * from freq_state_final;\nquit;","outputs":[]},{"kind":1,"language":"markdown","value":"## SQL Data Preparation","outputs":[]},{"kind":2,"language":"sas","value":"proc sql;\n    create table dsconc as\n    select * from dst1 where country <> 'Alaska'\n    union corr\n    select * from dst2;\nquit;","outputs":[]}]